<!--
title: Enabling conditions
description: 
published: true
date: 2022-11-02T15:35:58.240Z
tags: 
editor: ckeditor
dateCreated: 2022-11-02T13:32:30.540Z
-->

<h2>Проблема&nbsp;</h2>
<figure class="image image-style-align-right"><img src="https://eyeauras.net/uploads/switch_1ff70c1ad0.png"></figure>
<p>В большинстве ситуаций из всего множества настроенных аур нужна только какая-то небольшая часть.&nbsp;<br>К примеру, если у нас настроены ауры под одну игру, совершенно нет нужды в том, чтобы ауры для другой игры делали какие-то проверки, перехватывали нажатия, делали поиск изображения и т.п.&nbsp;<br>Раньше эту проблему можно было решать либо с помощью ручной выгрузки/загрузки аур ("глазик" справа от названия ауры/папки), либо с помощью действий Load/Unload. Способ настройки скриптами всегда отличался тем, что был а) неудобен б) нестабилен.&nbsp;<br>При этом желание быстро и на лету включать/выключать наборы аур с околонулевой задержкой было и остается.</p>
<h2>Решение</h2>
<figure class="image image-style-align-right"><img src="https://eyeauras.net/uploads/tree_b338986591.png"></figure>
<p>Теперь у каждой ауры и папки появился дополнительный блок "<strong>Enabling conditions</strong>", который позволяет задать с помощью необходимые условия, только при достижении которых триггеры внутри ауры или папки будут вычисляться<br>Т.е., к примеру, если добавить в условия папки "<strong>Lineage 2</strong>" триггер "<strong>WindowsIsActive</strong>" с параметром "<strong>l2.bin</strong>", то <strong>ВСЕ </strong>триггеры внутри этой папки будут вычисляться тогда и только тогда, когда окно процесса <strong>l2.bin</strong> будет активно.<br>Поэтому все десятки триггеров в папке "<strong>Lineage 2</strong>" не будут потреблять ресурсы тогда, когда не нужно.</p>
<p>&nbsp;</p>
<h3>Технические особенности</h3>
<p>- условия соблюдают иерархию, т.е. на каждую папку и на каждую ауру можно повесить свой набор условий, при этом триггеры внутри ауры будут вычисляться только когда условия И папки, И ауры соблюдены.&nbsp;Это позволит делать наборы условий, кардинально снижающих нагрузку на систему в целом, к примеру, на корневую папку мы вешаем условие, что окно игры активно, а на папку внутри вешаем условие, что триггеры внутри нее имеет смысл прогонять, только если на экране&nbsp;<br>открыт какой-то диалог.<br>- для удобства конфигурации, считается, что у выделенной папки/ауры в программе условия выполнены<br>- если аура <strong>выключена</strong>, то ее значок меняется на "?" и цвет окраски на оранжевый (как в случае с выгруженными аурами)<br>- если аура <strong>выключена</strong>, то гарантируется, что она НЕ потребляет 99% ресурсов, т.е. по факту занимает только память, а не ресурсы CPU/GPU ← тут могут быть на первых этапах проблемы, отправляйте репорты/скрины<br>- пока аура <strong>загружается</strong>, она считается <strong>выключенной</strong>, это исправит часть проблем при загрузке, когда ауры начинали срабатывать одна за другой при том, что вся система в целом еще не прогрузилась</p>
