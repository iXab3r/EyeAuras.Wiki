---
title: Keybinds
description: настраиваем хоткеи
published: true
date: 2025-03-22T23:50:12.023Z
tags: 
editor: markdown
dateCreated: 2025-03-22T23:50:12.023Z
---

# Что такое Keybinds?

Keybind (горячая клавиша) позволяет привязать выполнение определенной функции к нажатию клавиши или комбинации клавиш.

Это полезно, когда вам нужно быстро активировать определенное действие, например, запустить макрос, выполнить команду.

## Как это работает?

Для привязки горячей клавиши используется атрибут `[Keybind]`. Этот атрибут можно добавить к методу, и он будет вызван при нажатии указанной клавиши.

```csharp
[Keybind("p")] // Простой пример - сработает при нажатии клавиши 'p'
[Keybind("Ctrl+2")] // Сработает только при нажатии 'Ctrl + 2'
[Keybind("Ctrl+2", IgnoreModifiers = true)] // Сработает при всех комбинациях, содержащих 'Ctrl + 2' (например, 'Ctrl + Alt + 2')
public void OnKey(){
    Log.Info("Нажата клавиша");
}

[Keybind(Hotkey = "4", SuppressKey = false)] // Обработает клавишу, но она пройдет дальше в другие приложения
public void HandleKeyWithInjectedServices(IAuraEventLoggingService loggingService){
    // Метод требует сервис 'IAuraEventLoggingService', который автоматически будет передан в метод
    Log.Info("Нажата клавиша");
    loggingService.LogMessage(new AuraEvent(){ Text = "Сообщение", Loglevel = FluentLogLevel.Info });
}
```

---

## Параметры атрибута [Keybind]

Атрибут `[Keybind]` поддерживает несколько параметров:

- `Hotkey` — обязательный параметр, указывает на горячую клавишу или комбинацию клавиш (например, `Ctrl+A`, `Shift+X`, `Alt+Tab`).
- `SuppressKey` — подавляет событие нажатия клавиши, предотвращая его передачу в другие приложения. По умолчанию `true`.
- `IgnoreModifiers` — игнорирует дополнительные модификаторы. По умолчанию `true`. Это аналог `*` в AutoHotkey (Wildcard).

## Как работает IgnoreModifiers

Если `IgnoreModifiers = true`, метод будет вызван, даже если нажаты дополнительные модификаторы (например, `Shift`, `Alt`, `Ctrl`).
По умолчанию `IgnoreModifiers` **Выключен**.

Пример:

```csharp
[Keybind("Ctrl+2", IgnoreModifiers = true)] // Сработает для комбинаций: Ctrl+2, Ctrl+Alt+2, Ctrl+Shift+2
[Keybind("Ctrl+2", IgnoreModifiers = false)] // Сработает ТОЛЬКО для Ctrl+2
```

## Как работает `SuppressKey`

Если `SuppressKey = true`, нажатие клавиши не будет передано другим приложениям. Это полезно, когда нужно обработать клавишу исключительно внутри вашего скрипта.
По умолчанию `SuppressKey` **Включен**.

Пример:

```csharp
[Keybind("Ctrl+X", SuppressKey = true)] // Сработает и заблокирует клавишу в других приложениях
[Keybind("Ctrl+X", SuppressKey = false)] // Сработает, но клавиша пройдет дальше в другие программы
```

---

## Полезные советы

- ✅ Используйте `IgnoreModifiers = true` для гибкости, если хотите обрабатывать комбинации клавиш вне зависимости от дополнительных модификаторов.
- ✅ Если хотите, чтобы нажатие клавиши работало ТОЛЬКО внутри скрипта, добавьте `SuppressKey = true`.
- ✅ Не забудьте, что метод может принимать параметры, которые будут автоматически запрошены из Unity Container (например, `IAuraEventLoggingService`).


