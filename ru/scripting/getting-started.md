---
title: С чего начать?
description: 
published: true
date: 2024-02-20T17:53:38.985Z
tags: 
editor: markdown
dateCreated: 2024-02-20T14:01:34.128Z
---

# Что вообще за скрипты?
В программе практически с самого ее появления присутствовала возможность писать произвольный код на языке **C#**. В первых версиях (~весна 2021) это было очень больно, очень неудобно, но все равно можно. Вторая версия вышла весной 2023 и содержала в себе такие штуки как возможность использования внешней IDE для написания программ и значиетельно большие возможности у самих скриптов, к примеру, написание полноценного [пользовательского интерфейса](/en/overlays/custom-ui) с использованием [Blazor](https://dotnet.microsoft.com/en-us/apps/aspnet/web-apps/blazor). Уже лучше, но сами скрипты все еще были очень массивными, с большим количеством условностей, которые нужно знать.

И сейчас, весной 2024, выходит новая версия скриптов. В этом, уже третьем, поколении, возможности самой скриптовой системы огромны - доступно практически все, что программма может делать, с возможностью подключения сторонних nuget пакетов, с защитой от крашей и типовых ошибок и многим-многим другим. Абсолютно точно будет еще одна версия, но, судя по предыдущим датам, видимо придется ждать следующей весны :-D Есть еще огромное пространство для роста и планов останавливаться нет.

# Что под капотом
Сама программа построена на платформе [**.NET**](https://learn.microsoft.com/en-us/dotnet/core/whats-new/dotnet-8/overview). Это великолепная и динамично развивающаяся платформа, которая хороша практически во всем. Соответственно, в качестве скриптового языка используется самая последняя версия [C#](https://learn.microsoft.com/en-us/dotnet/csharp/). 

Каждый скрипт, который вы пишете, будет скомпилирован с использованием [Roslyn](https://learn.microsoft.com/en-us/dotnet/csharp/roslyn-sdk/). Большая часть головной боли, связанной с тем, как подключать файлы, что можно делать, а что нельзя и тому подобные вещи уже решены в самой программе, так что вам остается только сосредоточиться на работе с самим скриптом. 

# Как начать писать скрипты?
В программе есть аж 3 способа, как вы можете запустить свой код.
1. C# Action
Самый простой вариант. Вам всего лишь нужно добавить действие "C# Script". Это действие подчиняется всем тем же правилам, что и обычные действия, такие как [Send Sequence](https://wiki.eyeauras.net/en/actions/sendinput/send-sequence), [Send Telegram Message](/en/actions/send-telegram-message) и остальные. Т.е. для того, чтобы запустить это действие, нужно добавить какой-то триггер. К примеру, можно добавить [Hotkey Is Active](https://wiki.eyeauras.net/en/triggers/hotkey-is-active), повесить его на какую-нибудь кнопку и активировать скрипт при нажатии/зажатии 
2. C# Trigger
Более сложный вариант - ваш скрипт будет исполняться через определенные интервалы времени. При этом ожидается, что в каком-то месте кода вы вернете true/false или null, что приведет к активации и деактивации триггера. Дальше уже 
3. WebUI Overlay


# Службы-службы
И программа, и API построены на такой штуке как [Dependency Injection](https://en.wikipedia.org/wiki/Dependency_injection). Если человеческим языком, то программа нарезана на маленькие кусочки, каждый из которых отвечает за что-то свое. Как в большом доме, кто-то умеет варить кашу, кто-то шить носки, а кто-то не умеет ничего, но так уж вышло, что он все еще существует. 

---
У каждого в этом доме есть имя, к примеру, если хочется двинуть мышку, то нужно обратиться к [ISendInputUnstableScriptingApi](https://docs.eyeauras.net/api/EyeAuras.Roxy.Api.ISendInputUnstableScriptingApi.html) и вызвать [MouseMoveTo](https://docs.eyeauras.net/api/EyeAuras.Roxy.Api.ISendInputUnstableScriptingApi.MouseMoveTo.html#EyeAuras_Roxy_Api_ISendInputUnstableScriptingApi_MouseMoveTo_System_Int32_System_Int32_). Если хочется проиграть звук, то это нам к [IPlaySoundScriptingApi](https://docs.eyeauras.net/api/EyeAuras.DefaultAuras.Scripting.IPlaySoundScriptingApi.html). Ответственности всех разные и, как и в жизни, чтобы все получалось очень важно знать правильные имена :) 
В этой документации будут перечислены основные и наиболее полезные, однако полный спектр перечислять смысла нет - в Nuget пакете EyeAuras.SDK перечислено абсолютно все, что можно использовать и что будет доступно вашим скриптам. 