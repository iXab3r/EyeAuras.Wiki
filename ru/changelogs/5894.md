---
title: 1.3.5894
published: true
date: 2023-11-24T00:35:03.826Z
editor: markdown
dateCreated: 2023-11-24T00:16:59.851Z
---
### **Новый движок скриптов C# доступен в Триггерах/Действиях - альфа**

В ближайшие дни я опубликую больше информации, но в общем и целом, **движок C#**, который уже использовался в [WebUI](https://wiki.eyeauras.net/en/overlays/custom-ui) для использования преимуществ Blazor, был портирован и теперь он также доступен в действиях и триггерах C#. Это означает, что ТЕПЕРЬ каждая функция, которую вы могли использовать в WebUI, доступна и в триггерах/действиях, таких как:

- использование новых и улучшенных API, таких как [Interface IAuraTreeScriptingApi | EyeAuras Docs](https://docs.eyeauras.net/api/EyeAuras.Scripting.Api.IAuraTreeScriptingApi.html), [Interface IVariablesScriptingApi | EyeAuras Docs](https://docs.eyeauras.net/api/EyeAuras.Scripting.Api.IVariablesScriptingApi.html), [Interface IAuraAccessor | EyeAuras Docs](https://docs.eyeauras.net/api/EyeAuras.Scripting.Api.IAuraAccessor.html) и т.д.
  - Гарантируется, что эти API будут совместимы в будущих версиях, я буду прилагать усилия в этом направлении. Когда мне придется внести изменения, которые нарушат совместимость, будет создан специальный слой совместимости поверх старых API, чтобы избежать нарушения кода.
  - План заключается в том, чтобы позволить скриптам [внедрять](https://en.wikipedia.org/wiki/Dependency_injection) набор API (например, SendInputScriptingApi), которые обеспечат легкий доступ к анализу изображений, отправке ввода и всем другим функциям, которые в настоящее время присутствуют в EyeAuras
  - API триггеров/действий/оверлеев все еще могут изменяться, так как у меня еще нет хорошего решения для слоя совместимости
- использование нескольких файлов для структурированного хранения вашего исходного кода
- ссылка на другие ауры на основе C# для доступа к реализованным там классам/методам. То есть вы можете подготовить одну ауру со всеми вспомогательными функциями и использовать ее в своих проектах
- экспорт **csproj** и редактирование кода в [Visual Studio](https://visualstudio.microsoft.com/) / [JetBrains Rider](https://www.jetbrains.com/rider/)
- редактирование проекта в реальном времени через Monitor. Это не так полезно, как с **WebUI**.

Автозавершение на данный момент отключено, я еще не решил, стоит ли сразу переходить на [редактор Monaco](https://microsoft.github.io/monaco-editor/) или внести некоторые улучшения в существующий текстовый редактор. Обновлю информацию как можно скорее.

Одно из лучших нововведений в этом - теперь, когда система скриптов однородна, **любое** улучшение будет мгновенно отражено везде - **WebUI/C# действие/триггер** и **Behaviour Trees**.

**P.S. Behaviour trees,** скорее всего, будут выпущены в **декабре** и будут основываться на том же движке. Оставайтесь с нами, это будет очень-очень круто, я вам обещаю :)

### **Новый сайт документации API**

Новый сайт, на котором размещена документация API для EyeAuras, теперь доступен по адресу [https://docs.eyeauras.net](https://docs.eyeauras.net).

Это будет особенно полезно для тех, кто использует EyeAuras в качестве платформы для скриптов. Однако [Wiki](https://wiki.eyeauras.net/) остается **основным источником для неразработчиков**.

В настоящее время в документации отсутствует раздел демонстраций и примеров, который является неотъемлемой частью любой документации. Усилия, которые я и linqse предпримем в **декабре**, будут направлены на обогащение этой области. Кроме того, большинство публичных интерфейсов и классов теперь включают комментарии XML.

Если какая-либо важная информация отсутствует, пожалуйста, сообщите нам об этом.

### **Улучшенный механизм отчетности об ошибках**

Понимание специфики того, что пошло не так, критически важно при возникновении проблем. Наш новый механизм отчетности об ошибках собирает все ошибки в рамках Действия/Триггера или всей Ауры. Эти ошибки иерархические, то есть ошибки Ауры включают все ошибки из их действий/триггеров, подобно папкам. Пользователи могут отметить ошибки как прочитанные по своему усмотрению.

![Image](https://i.imgur.com/2pvA8gp.png)

### **Улучшение производительности - Кэширование свойств (Альфа)**

Введение новой функции, направленной на значительное сокращение количества чтений/записей на диск и незначительное снижение нагрузки на процессор. Эта функция все еще находится в стадии тестирования и может быть включена в настройках в опции Кэширование свойств.

### **ИСПРАВЛЕНИЕ ОШИБОК/УЛУЧШЕНИЯ**

- [Триггер громкости]: Временно отключен из-за конфликтов с подсистемой.
- Безопасный режим: Улучшен механизм, который обнаруживает неправильные выходы из приложения.
- [Триггер изображения]: Добавлена функция копирования образца изображения в буфер обмена и вставки из него.
- [Редактор кода C#]: Улучшения производительности делают редактор более отзывчивым. Мы планируем в конечном итоге перейти на редактор Monaco.