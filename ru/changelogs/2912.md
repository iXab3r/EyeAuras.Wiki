
---
title: 1.2.2912
description: 
published: true
date: 2022-02-13T12:46:49.206Z
tags: 
editor: markdown
dateCreated: 2022-02-13T12:46:49.177Z
---		
		
### Добавлен новый тип триггера - Telegram Message
Появилась возможность настроить реакцию программы на получение определенных сообщений в Телеграм ! 

Это может быть как некая ключевая строка (поддерживается проверка по частичному совпадению, [регулярные выражения](https://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5_%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F)), так и **C#** функции (можно выполнять любые действия над входной строкой, главное чтобы результатом функции было булевое значение). 

Для того, чтобы воспользоваться этим функционалом вам нужно будет зарегистрировать себе Телеграм бота, которому вы или кто-либо еще будет писать сообщения, на которые будет реагировать программа. Само создание бота занимает не больше 10 минут даже если вы делаете это впервые. Самая важная часть это получить токен бота, который позволит вам подписаться на сообщения от него, равно как и отправлять от его имени информацию с помощью действия **Send To Telegram**

Источники информации по регистрации:
- Официальная документация, раздел BotFather: [Документация Telegram: Боты (tlgrm.ru)](https://tlgrm.ru/docs/bots#botfather)
- Инструкция на SendPulse с картинками: [Как подключитьTelegram чат-бот | SendPulse](https://sendpulse.com/ru/knowledge-base/chatbot/create-telegram-chatbot)

### Добавлен режим "Security Measures"
Эта настройка может быть включена в опциях (по умолчанию выключена) и будет постепенно дорабатываться. Она призвана избавить от проблем с блэклистами и другими возможными мерами противодействия, которые будут неизбежно появляться в будущем. 

Эта настройка будет тем больше влиять на производительность, чем совершеннее будут применяемые меры защиты, так что если вы не ожидаете столкнуться с какими-либо мерами со стороны администрации, то ее лучше не включать во избежание создания лишней нагрузки на железо. К примеру, если вы собираетесь ботить в мобильных играх через эмулятор или управлять клиентом игры через **RDP**/**Parsec**/**Moonlight** смысла никакого в *локальных* мерах защиты нет и опцию смело можно не включать. 

### Добавлен режим отладки выражений в триггерах Network Message/Telegram Message/Text Search
В вышеуказанных триггерах теперь есть возможность протестировать как именно будет вести себя ваше выражение если будет получен какой-либо текст. 

- **Text or expression -** здесь указывается текст, регулярное выражение или C# функция, которая будет выполняться над полученным текстом 
- **Input test text -** тестовая входная строка имитирующая полученное сообщение
- **Matching text -** для регулярного выражения - первая успешно сматчившаяся группа, для текста и C# - полная входная строка в случае успешного сравнения

![Image](/uploads/ODK_Fb_Oy_76969f0b38.png)

### Другие доработки/исправления
- [SendToTelegram] Добавлено отслеживание статуса подключения к серверам Telegram
- [Overlays] Улучшена точность позиционирования и исправлены проблемы с сохранением позиций оверлеев
- [Send Input/Text/Sequence] Доработан механизм отправки нажатий - теперь должно быть меньше осечек даже если система сильно нагружена
- [Network/Telegram Message/Text Search] Добавлена поддержка сравнения входящего текста по C# выражению
- [Network/Telegram Message/Text Search] Если настроено сравнение по регулярному выражению теперь в свойстве **string Match** будет содержаться результат матчинга
- Теперь если аура встает на паузу (к примеру, вы развернули окно), то текущие исполняемые действия будут прерываться. Ранее текущий блок выполнялся до конца, что мешало редактированию аур

### Багфиксы
- Исправлен краш связанный с ошибкой **CancellationTokenSource was disposed**
- Поправлена ошибка из-за которой при изменении размеров оверлея они могли “дрожать”
- Поправлена ошибка из-за которой программа могла зависать при наличии байндингов, изменяющих позиции оверлея
- Исправлена ошибка из-за которой репорт об ошибке мог не отправляться :-D
- Исправлена ошибка из-за которой репорт мог содержать несколько копий логов
- Исправлена ошибка из-за которой приложение могло не перезапускаться само после обновления
- Исправлена ошибка из-за которой позиция оверлея могла сбрасываться при загрузке/выгрузке ауры или программы в целом